<div class="dynamic-content buffet-wrapper" id="main-content">
    <div class="container">
        <div id="buffet" class="padding-wrapper">
            <?php
            $title = 'Buffet Menu';
            $this->headTitle($title);
            ?>

            <!--            <h2>--><?php //echo $this->escapeHtml($title . ' for the week'); ?><!--</h2>-->

            <ul id="tabs">
                <li><a href="#" name="tab1" class="Monday">周一</a></li>
                <li><a href="#" name="tab2" class="Tuesday">周二</a></li>
                <li><a href="#" name="tab3" class="Wednesday">周三</a></li>
                <li><a href="#" name="tab4" class="Thursday">周四</a></li>
                <li><a href="#" name="tab5" class="Friday">周五</a></li>
            </ul>
            <div id="tab-content">
                <?php for ($count = 1; $count <= 5; $count++): ?>
                    <div id="tab<?= $count ?>">
                        <table class="table">
                            <tr>
                                <th>dayMark</th>
                                <th>display_order</th>
                                <th>cName</th>
                                <th>eName</th>
                                <th>fName</th>
                                <th>spice</th>
                                <th>cold_dish</th>
                            </tr>
                            <?php foreach ($this->buffet as $buffet_dish) : ?>
                                <?php if ($buffet_dish->dayMark == $count): ?>
                                    <tr>
                                        <td><?php echo $this->escapeHtml($buffet_dish->dayMark); ?></td>
                                        <td><?php echo $this->escapeHtml($buffet_dish->displayOrder); ?></td>
                                        <td><?php echo $this->escapeHtml($buffet_dish->cName); ?></td>
                                        <td><?php echo $this->escapeHtml($buffet_dish->eName); ?></td>
                                        <td><?php echo $this->escapeHtml($buffet_dish->fName); ?></td>
                                        <td><?php echo $this->escapeHtml($buffet_dish->spiceDegree); ?></td>
                                        <td><?php echo $this->escapeHtml($buffet_dish->coldDish); ?></td>
                                    </tr>
                                <?php endif; ?>
                            <?php endforeach; ?>
                        </table>
                    </div>
                <?php endfor; ?>
            </div>


        </div>
    </div>
</div>



<script type="text/javascript">
    // buffet tabs
    $(document).ready(function () {
        $("#tab-content").find("[id^='tab']").hide(); // Hide all content
//        $("#tabs li:first").attr("id", "current"); // Activate the first tab
        $("li:nth-child(<?=$this->dayMark?>)").attr("id", "current"); // Activate the first tab

        $("#tab-content #tab1").fadeIn(); // Show first tab's content

        $('#tabs a').click(function (e) {
            e.preventDefault();
            if ($(this).closest("li").attr("id") == "current") { //detection for current tab
                return;
            }
            else {
                $("#tab-content").find("[id^='tab']").hide(); // Hide all content
                $("#tabs li").attr("id", ""); //Reset id's
                $(this).parent().attr("id", "current"); // Activate this
                $('#' + $(this).attr('name')).fadeIn(); // Show content for the current tab
            }
        });
    });
</script>




